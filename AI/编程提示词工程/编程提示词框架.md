# 编程提示词框架

## 上下文框架

| 文件/目录 | 说明 | 使用方法 |
|-----------|------|------|
| project_prompt.md | 项目的整体介绍 | 在具体开发前先解析 project_prompt.md，确保理解无误，同时允许其适当发散，也许能够为我们提供一些新的角度或思考 |
| road_map.md | 项目的实施路线，任务拆分，以及当前的任务状态 | - |
| technology_selection.md | 项目技术选型，尽量要求复用稳定的开源实现 | - |
| ui_design.md | 项目的 ui 设计 | - |
| bug_list.md | 项目的 bug 以及待优化点列表，要求一次处理一个点，验收通过后标记为已处理，再处理下一个点 | - |
| app/ | 实际项目所在目录 | - |

## 上下文初始化提示词

1. 自主编写好 project_prompt.md 和 ui_design.md

2. 项目初始化提示词：

    ```md
    1. 解析 ai/project_prompt.md 内容，了解一下该项目的主要目的，然后将项目划分成几个关键的节点，并给出划分理由
    2. 为了方便后续跟进项目进度，将各个关键节点细化为具体需求，并写入 ai/road_map.md，样式不用太复杂
    3. 请分析最新一版 ai/road_map.md 中的需求，为项目选择合适的技术选型，并写入 ai/technology_selection.md
        - 确定项目结构、技术栈、架构模式、依赖关系、代码模式等
        - 确定业务域和数据模型
        - 尽可能复用已有的稳定开源实现，避免重复造轮子
    4. 基于最新一版 ai/road_map.md 和 ai/technology_selection.md，细化 ui 设计文档 ai/ui_design.md
    ```

## 上下文启动提示词

```md
我们要继续项目开发，为了让你尽快了解整个项目，请先浏览一下相关信息，几个关键的文件如下，然后谈一谈你对整个项目的理解

1. ai/project_prompt.md：项目的整体介绍
2. ai/road_map.md：项目的实施路线，任务拆分，以及当前的任务状态
3. ai/technology_selection.md：项目技术选型
4. ai/ui_design.md：项目的 ui 设计
5. ai/bug_list.md：项目的 bug 以及待优化点列表；要求一次处理一个点，验收通过后标记为已处理，再处理下一个点
6. app/：实际项目所在目录
```

## 需求开发提示词

1. 技术层面可行性分析

    ```md
    接下来我们需要完成 ai/road_map.md 中的一项需求的开发：<需求具体描述>
    参考 ai/technology_selection.md，基于现有技术选型，在技术层面上谈谈该需求的可行性
    ```

2. 实现方案比对

    ```md
    对于 <需求具体描述> 的实现，对比一下不同的实现方案，看看那种方案更符合项目的需求，尽可能不要重复造轮子
    ```

3. 确定充分理解需求

    ```md
    请你详细阅读 ai/road_map.md 中的 <需求具体描述>，确认 <实现方案> 在功能点、输入输出、异常场景上可以满足 <需求具体描述> 中的要求。
    若发现矛盾请立即标记并提交备注。
    ```

4. 方案实现步骤拆分

    ```md
    非常好，我决定使用 <实现方案> 进行代码开发，请一步步列出方案实现步骤，并写入到 ai/road_map.md 中
    注意开发过程应遵循以下要求：
    1. 通过阅读 ai/technology_selection.md 确认现有代码库的分层结构，确定新功能的插入位置。
    2. 在设计上，要尽量保证可扩展性和可维护性，代码设计以及目录划分要合理。
    3. 实现过程中，采用小步迭代的方式，可以优先将框架搭好，然后再一步步填充细节
    4. 项目架构，以及模块实现，要尽可能高内聚，低耦合。
    5. 列出可复用的工具类、异常处理机制和公共接口（如`utils.ts`、`ErrorCode`枚举类），如项目已有可用方法，必须考虑复用、或在现有方法上扩展、或进行方法重载，保证最小粒度改动，减少重复代码。
    ```

5. 小步迭代实现

    ```md
    现在我要求你按步骤实现 <需求具体描述> 的 <实现方案>
    每完成一项具体任务，将 ai/road_map.md 中该项具体任务标记为 “待测试”，然后停止下一步动作，等待我的测试验收
    验收通过后，将 ai/road_map.md 中该项具体任务标记为 “已完成”，再继续下一项具体任务
    ```

## BUG修复提示词

```md
我在测试过程中发现了一些 bug 和待优化点，都记录在了 ai/bug_list.md 中，请进行处理
要求：
1. 一次只能处理一个 bug 或者待优化点
2. 处理每个 bug 或待优化点后，要验收修复后的效果，验收通过后，标记为 “已修复”，才能开始处理下一个
```